<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockLink - 微前端股票分析平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📈</text></svg>">
</head>
<body class="bg-gray-50 min-h-screen">
    <div x-data="{
        heatmapUrl: 'http://localhost:3000',
        detailsUrl: 'http://localhost:3001',
        isProduction: window.location.hostname !== 'localhost'
    }" class="container mx-auto px-4 py-8">
        
        <!-- Header -->
        <header class="text-center mb-12">
            <div class="flex items-center justify-center mb-4">
                <span class="text-4xl mr-3">📈</span>
                <h1 class="text-4xl font-bold text-gray-800">StockLink</h1>
            </div>
            <p class="text-xl text-gray-600 mb-2">微前端股票分析平台</p>
            <p class="text-sm text-gray-500">连接热力图与个股详情的智能分析平台</p>
        </header>

        <!-- Development Notice -->
        <div x-show="!isProduction" class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8">
            <div class="flex items-center">
                <span class="text-yellow-600 mr-2">⚠️</span>
                <div>
                    <h3 class="font-semibold text-yellow-800">开发环境</h3>
                    <p class="text-yellow-700 text-sm">请确保热力图应用 (端口3000) 和个股详情页应用 (端口3001) 已启动</p>
                </div>
            </div>
        </div>

        <!-- Main Applications -->
        <div class="grid md:grid-cols-2 gap-8 mb-12">
            <!-- Heatmap App -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white">
                    <div class="flex items-center mb-2">
                        <span class="text-2xl mr-3">🔥</span>
                        <h2 class="text-2xl font-bold">全景热力图</h2>
                    </div>
                    <p class="text-blue-100">S&P 500 市场全景热力图 - 主入口应用</p>
                </div>
                <div class="p-6">
                    <ul class="text-gray-600 mb-6 space-y-2">
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            实时市场数据可视化
                        </li>
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            行业板块热力分析
                        </li>
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            点击跳转个股详情
                        </li>
                    </ul>
                    <button 
                        @click="window.open(heatmapUrl, '_blank')"
                        class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200">
                        打开热力图应用
                    </button>
                </div>
            </div>

            <!-- Stock Details App -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="bg-gradient-to-r from-green-500 to-green-600 p-6 text-white">
                    <div class="flex items-center mb-2">
                        <span class="text-2xl mr-3">📊</span>
                        <h2 class="text-2xl font-bold">个股详情页</h2>
                    </div>
                    <p class="text-green-100">深度个股分析与数据展示</p>
                </div>
                <div class="p-6">
                    <ul class="text-gray-600 mb-6 space-y-2">
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            TradingView 专业图表
                        </li>
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            实时财务数据分析
                        </li>
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✓</span>
                            智能新闻翻译
                        </li>
                    </ul>
                    <button 
                        @click="window.open(detailsUrl, '_blank')"
                        class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200">
                        打开详情页应用
                    </button>
                </div>
            </div>
        </div>

        <!-- Architecture Info -->
        <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">微前端架构特性</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">🔗</span>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">独立部署</h4>
                    <p class="text-gray-600 text-sm">每个应用独立开发、测试和部署，互不影响</p>
                </div>
                <div class="text-center">
                    <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">⚡</span>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">高性能</h4>
                    <p class="text-gray-600 text-sm">按需加载，优化用户体验和页面性能</p>
                </div>
                <div class="text-center">
                    <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">🔄</span>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">无缝集成</h4>
                    <p class="text-gray-600 text-sm">通过URL和数据共享实现应用间流畅跳转</p>
                </div>
            </div>
        </div>

        <!-- Quick Links -->
        <div class="bg-gray-100 rounded-xl p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">快速链接</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <a href="./README.md" class="text-blue-600 hover:text-blue-800 text-sm font-medium">📖 项目文档</a>
                <a href="./DEPLOYMENT.md" class="text-blue-600 hover:text-blue-800 text-sm font-medium">🚀 部署指南</a>
                <a href="./docs/" class="text-blue-600 hover:text-blue-800 text-sm font-medium">📋 产品文档</a>
                <a href="https://github.com/simonxinpan/Heatmap-pro" target="_blank" class="text-blue-600 hover:text-blue-800 text-sm font-medium">🔥 热力图仓库</a>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>&copy; 2024 StockLink Team. 基于微前端架构的智能股票分析平台.</p>
        </footer>
    </div>

    <script>
        // 检查应用状态
        async function checkAppStatus() {
            const apps = [
                { name: '热力图', url: 'http://localhost:3000', element: 'heatmap-status' },
                { name: '个股详情', url: 'http://localhost:3001', element: 'details-status' }
            ];
            
            if (window.location.hostname === 'localhost') {
                for (const app of apps) {
                    try {
                        const response = await fetch(app.url, { mode: 'no-cors' });
                        console.log(`${app.name}应用状态: 运行中`);
                    } catch (error) {
                        console.log(`${app.name}应用状态: 未启动`);
                    }
                }
            }
        }
        
        // 页面加载时检查应用状态
        document.addEventListener('DOMContentLoaded', checkAppStatus);
    </script>
</body>
</html>